# All files in this package is subject to the GPL v2 license
# More information is in the COPYING file in the top directory of this package.
# Copyright (C) 2012 severalnines.com
#
# Generated by Chef for <%= node['ipaddress'] %>
#
# Local modifications will be overwritten.

[MYSQLD]
user=mysql
basedir = <%= node['mysql']['base_dir'] %>
datadir = <%= node['mysql']['data_dir'] %>
pid-file = <%= node['mysql']['pid_file'] %>
socket = <%= node['mysql']['socket'] %>
port = <%= node['mysql']['port'] %>
log-error = error.log
#log
#log-slow-queries

### INNODB 
innodb-buffer-pool-size = 307M
innodb-flush-log-at-trx_commit = 2
innodb-file-per-table = 1
innodb_log_file_size = 256M
innodb-log-files-in-group = 2
#innodb-buffer-pool-instances = 4
innodb-thread-concurrency = 0
#innodb-file-format = barracuda
innodb-flush-method = O_DIRECT
innodb_locks_unsafe_for_binlog = 1
#OTHER THINGS, BUFFERS ETC
key-buffer-size = 8M
max-allowed-packet = 16M
sort-buffer-size = 512K
read-buffer-size = 256K
read-rnd-buffer-size = 512K
#thread_cache_size=1024
myisam-sort-buffer-size = 8M
skip-name-resolve
event_scheduler = 1
memlock = 0
sysdate-is-now = 1
max-connections = 200
thread-cache-size = 64
query-cache-type = 1
query-cache-size = 32M
table-open_cache = 128
table-cache = 512
lower-case-table-names = 0

[MYSQL]
socket=<%= node['mysql']['socket'] %>

[client]
port            = 3306
socket=<%= node['mysql']['socket'] %>

[MYSQLD_SAFE]
basedir = <%= node['mysql']['base_dir'] %>
datadir = <%= node['mysql']['data_dir'] %>
pid-file = <%= node['mysql']['pid_file'] %>
log-error = error.log
syslog
